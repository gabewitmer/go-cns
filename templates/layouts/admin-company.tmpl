{{ define "head" }}
	<style>input.uploader{position:absolute;left:-9999px;}label.uploader{cursor:pointer;}</style>
{{ end }}

{{ define "title" }}Admin Company{{ end }}

{{ define "navbar" }}
	{{ template "secure-admin-navbar" . }}
{{ end }}

{{ define "content" }}
	<div class="row">
		<div class="col-lg-12">

			<!-- file error alert -->
			<div id="fileError" class="hide">
				<div class="alert alert-danger">
					<p id="fileMessage"></p>
				</div>
			</div>
			<!-- file error alert -->

		</div>

		<!-- BREADCRUMB NAVIGATION -->
		<div class="col-lg-12">
			<ol class="breadcrumb">
				<li>
					<a href="/admin/home">Home</a>
				</li>
				<li>
					<a href="/admin/company">Companies</a>
				</li>
				<li class="active">{{ .company.Name }}</li>
			</ol>
		</div>
		<!-- BREADCRUMB NAVIGATION -->

		<div class="col-lg-4">
			<div class="panel panel-default">
				<div class="panel-heading clearfix">
					Company
				</div>
				<div class="panel-body">
					<form class="form-horizontal" action="/admin/company/edit" method="post">
						<div class="form-group">
							<label class="control-label col-lg-4">Name</label>
							<div class="col-lg-8">
								<input type="text" name="name" class="form-control" value="{{ .company.Name }}"/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-lg-4">Street</label>
							<div class="col-lg-8">
								<input type="text" name="street" class="form-control" value="{{ .company.Street }}"/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-lg-4">City</label>
							<div class="col-lg-8">
								<input type="text" name="city" class="form-control" value="{{ .company.City }}"/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-lg-4">State</label>
							<div class="col-lg-8">
								<input type="text" name="state" class="form-control" value="{{ .company.State }}"/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-lg-4">Zip</label>
							<div class="col-lg-8">
								<input type="text" name="zip" class="form-control" value="{{ .company.Zip }}"/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-lg-4">Age Requirement</label>
							<div class="col-lg-8">
								<input type="number" name="ageRequirement" class="form-control" value="{{ .company.AgeRequirement }}"/>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label col-lg-4">Feature</label>
							<div class="col-lg-8">
								<label class="radio-inline">
									<input type="radio" name="feature" value="true" {{ if .company.Feature }}checked{{ end }}/> Yes
								</label>
								<label class="radio-inline">
									<input type="radio" name="feature" value="false" {{ if not .company.Feature }}checked{{ end }}/> No
								</label>
							</div>
						</div>
						<div class="col-lg-12">
                            <input type="hidden" name="logo" value="{{ .company.Logo }}"/>
							<input type="hidden" name="id" value="{{ .company.Id }}"/>
							<div class="form-group">
								<button class="btn btn-primary btn-block">Save</button>
							</div>
							<div class="form-group">
								<a href="#" data-delete="/admin/company/{{ .company.Id }}" data-message="Are you sure you would like to permanently delete this company?" class="btn btn-danger btn-block delete-button">Delete</a>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="col-lg-4">
			<div class="panel panel-default">
				<div class="panel-heading">Company Logo</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-lg-12">
							{{ if .company.Logo }}
								<img id="src-image" class="img-responsive" src="/static/logo/{{ .company.Slug }}.png" alt=""/>
							{{ end }}
						</div>
					</div>
					<br/>
					<form action="/admin/company/upload/{{ .company.Id }}" method="post" enctype="multipart/form-data">
						<div class="form-group">
							<label class="btn btn-default btn-block uploader" for="logo">
								Select Image
							</label>
							<input class="uploader" id="logo" type="file" name="logo" required="true">
						</div>
						<button class="btn btn-success uploader btn-block" id="upload" type="submit"
								disabled="true">
							Upload
						</button>
					</form>
				</div>
			</div>
		</div>
		<div class="col-lg-4">
            <div class="row">
                <div class="col-lg-12">
					<div class="panel panel-default">
						<div class="panel-heading">Driver Stats</div>
						<div class="panel-body">
							<p>Number of drivers: {{ .driverCount }}</p>
							<a class="btn btn-block btn-default" href="/admin/company/{{ .company.Id }}/driver">Manage Drivers</a>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<div class="panel panel-default">
						<div class="panel-heading">Vehicle Stats</div>
						<div class="panel-body">
							<p>Number of vehicles: {{ .vehicleCount }}</p>
							<a class="btn btn-block btn-default" href="/admin/company/{{ .company.Id }}/vehicle">Manage Vehicles</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{{ end }}

{{ define "scripts" }}
	<script src="/static/js/password.js"></script>
	<script src="/static/js/delete.js"></script>
    <script src="/static/js/upload.js"></script>
{{ end }}
